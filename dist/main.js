(()=>{"use strict";const e="a76bd9ccf221f5b2f6393608a4e47f8e";document.getElementById("submit").onclick=()=>g();const t=document.getElementById("city"),n=document.getElementById("location"),o=document.getElementById("temp"),i=document.getElementById("desc"),c=document.getElementById("feels"),a=document.getElementById("humidity"),d=document.getElementById("wind"),l=document.getElementById("icon"),m=document.getElementById("celcius");let s=0,u=0;function p(e){return(e-273.15).toFixed(2)}function r(e){return(1.8*(e-273.15)+32).toFixed(2)}async function g(){t.value=t.value.split(" ").join("-");const g=await fetch(($=t.value,/\d/.test($)?`http://api.openweathermap.org/geo/1.0/zip?zip=${t.value},GB&appid=${e}`:`http://api.openweathermap.org/geo/1.0/direct?q=${t.value.replace(" ","")}&appid=${e}`),{mode:"cors"});var $;const y=await g.json();console.log(y),/\d/.test(t.value)?(s=y.lat,u=y.lon):(s=y[0].lat,u=y[0].lon),console.log(`LAT:${s} LON:${u}`);const h=await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${s}&lon=${u}&appid=${e}`,{mode:"cors"}),f=await h.json();console.log(f),n.textContent=`${f.name}, ${f.sys.country}`,o.textContent=m.checked?`${p(f.main.temp)} C`:`${r(f.main.temp)} F`,i.textContent=`${f.weather[0].description}`,c.textContent="Feels Like: "+(m.checked?`${p(f.main.feels_like)} C`:`${r(f.main.feels_like)} F`),a.textContent=`Humidity: ${f.main.humidity}`,d.textContent=`Wind: ${f.wind.speed} M/Sec`,l.setAttribute("src",`../img/${f.weather[0].icon}.png`)}g()})();