(()=>{"use strict";const t="a76bd9ccf221f5b2f6393608a4e47f8e";document.getElementById("submit").onclick=()=>$();const e=document.getElementById("city"),n=document.getElementById("location"),o=document.getElementById("temp"),a=document.getElementById("desc"),c=document.getElementById("feels"),i=document.getElementById("humidity"),l=document.getElementById("wind"),s=document.getElementById("icon"),d=document.getElementById("celcius"),r=document.getElementById("statusline");let u=0,m=0,g=0;function p(t){return(t-273.15).toFixed(2)}function h(t){return(1.8*(t-273.15)+32).toFixed(2)}async function $(){r.textContent="Loading...",e.value=e.value.split(" ").join("-");const $=await async function(){try{const o=await fetch((n=e.value,/\d/.test(n)?`http://api.openweathermap.org/geo/1.0/zip?zip=${e.value},GB&appid=${t}`:`http://api.openweathermap.org/geo/1.0/direct?q=${e.value.replace(" ","")}&appid=${t}`),{mode:"cors"});return console.log(`Location Status: ${o.status}`),o.json()}catch(t){console.log(`Location Status: ${locResponse.status}`),console.log(`Error in GetLocation: ${t}`)}var n}();0!==$.length&&void 0!==$.length?/\d/.test(e.value)?(u=$.lat,m=$.lon):(u=$[0].lat,m=$[0].lon):(u=null,m=null),console.log($.length),console.log(`LAT:${u} LON:${m}`);try{const e=await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${u}&lon=${m}&appid=${t}`,{mode:"cors"});console.log(`Weather Status: ${e.status}`),g=e.status;const $=await e.json();console.log($),n.textContent=`${$.name}, ${$.sys.country}`,o.textContent=d.checked?`${p($.main.temp)} C`:`${h($.main.temp)} F`,a.textContent=`${$.weather[0].description}`,c.textContent="Feels Like: "+(d.checked?`${p($.main.feels_like)} C`:`${h($.main.feels_like)} F`),i.textContent=`Humidity: ${$.main.humidity}`,l.textContent=`Wind: ${$.wind.speed} M/Sec`,s.setAttribute("src",`../img/${$.weather[0].icon}.png`),r.textContent=""}catch(t){switch(console.log("Error in Finding Weather"),g){case 400:r.textContent=`Cannot find weather data for ${e.value}`;break;case 401:r.textContent=`Cannot get weather data just now. Error: ${g}`;break;default:r.textContent=`There has been an error: ${g}`}}}$()})();